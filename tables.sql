/* CREATION DES TABLES */

BEGIN;

DROP TABLE IF EXISTS "subject", "verb", "complement", "archive";

CREATE TABLE IF NOT EXISTS"subject" (
    "name" text NOT NULL PRIMARY KEY
);

CREATE TABLE IF NOT EXISTS"verb" (
    "name" text NOT NULL PRIMARY KEY

);

CREATE TABLE IF NOT EXISTS"complement" (
    "name" text NOT NULL PRIMARY KEY
);

CREATE TABLE IF NOT EXISTS"archive" (
    "phrase" text NOT NULL PRIMARY KEY
);

COMMIT;

/* INJECTIONS DES DONNEES DANS LES TABLES */

BEGIN;

INSERT INTO "subject" ("name") VALUES
('Un chaton licorne'),
('un chien des enfers'),
('Hamtaru le hamster'),
('Un petit poney shetland'),
('Une licorne obèse'),
('Une banshee en pantoufles velues'),
('Rogue et ses cheveux gras'),
('La tarée du thé Sybille Trelawney'),
('Ce petit con de Harry Potter'),
('Edwige la chouette harfang'),
('Hagrid sur sa moto volante'),
('Ma voisine en bikini'),
('Mon papy masochiste'),
('Ma gentille mamie'),
('Mon abruti de frère'),
('Ma soeur sous Valium'),
('Ma prof de français'),
('Mon prof de math'),
('Ma souris albinos'),
('Ma peruche à cornes'),
('Ma peluche diabolique'),
('Un morpion tuberculeux'),
('Ma pop Harley Quinn'),
('Un canari jaune à grosse tête'),
('Un blaireau tr_s british'),
('Un putois qui sent la rose'),
('Une cigogne qui claque du bec'),
('Une aigle chauve et pervers'),
('Un chameau alcoolique'),
('Un dromadaire aux pattes palmées'),
('Un renard au regard torve'),
('Un loup gros comme une vache'),
('Un loup-garou avec des crocs en argent'),
('Un lion des montagnes'),
('Une lionne blanche à crête punk'),
('Un leopard des neiges'),
('Un buffle qui aime pas nager'),
('La chatte à la voisine'),
('La grand-mère de mon hamster'),
('Le cousin de ma grenouille'),
('La tata de mon canard en plastique'),
('Mon ami Bob le gorille'),
('Pikachu sous amphétamines'),
('Salamèche en période se sèche'),
('Bulbizar en slip de bain croco'),
('Harry le Survivant'),
('Hermione Granger'),
('Ce goinfre de Ronald Weasly'),
('Fred Weasly'),
('Georges Weasley'),
('Sirius Black'),
('Remus Lupin'),
('James Potter'),
('Lily Potter'),
('Severus et ses cheveux gras'),
('Lucius et sa perruque blonde'),
('ce petit branleur Draco'),
('Voldemort Face-de-Craie'),
('Bellatrix la foldiingue'),
('Dobby je-me-mêe-de-tout'),
('Sauron et son oeil de sadique'),
('Frodon Sacquet de la Comté'),
('Sam Gamegie le Brave'),
('Meriadock Brandybuck dit Merry'),
('Ce satané Pippin'),
('Gandalf le Blanc'),
('Gimli et sa grosse hache'),
('Legolas aux pieds agiles'),
('Aragorn dit Grand-Pas'),
('Cette petite garce de Saroumane'),
('Aragog en collants de Noël'),
('Touffu le mélomane'),
('Crockdur le baveur'),
('Un dragon pacifiste'),
('Une licorne à 6 pattes'),
('Un niffleur rondouillard'),
('Rondoudou ce gros tas'),
('Dracofeu et sa queue qui crame'),
('Tortank et ses gros canons'),
('Ce déchet de Magicarpe'),
('Cette brute de Leviathor'),
('Un pokemon sexy'),
('Un veaudelune en kilt'),
('Norbert Dragonneau'),
('Gellert Grindelwald'),
('Albus Percival Wulfric Brian Dumbledore'),
('Un shaman illuminé'),
('Un zombie végétarien'),
('Un troll qui tricote'),
('Un gobelin borgne'),
('Un dev back'),
('Un dev front'),
('Un sysadmin enragé'),
('Un supporter de foot lobotomisé'),
('Une poule morte'),
('Un basilic peureux'),
('Une wyverne bicéphale'),
('Un bouc antropomorphe'),
('Un kéké des plages en short'),
('Un lutin de Noël'),
('Un martien moustachu'),
('Le fantôme de Spock'),
('Le Capitaine James T. Kirk'),
('Un Klingon qui danse le mia'),
('Un Vert Gallois chanteur'),
('Un botruc angoissé'),
('Un hyppogriffe blasé'),
('Une chimère asmathique'),
('Une sorcière en pyjama'),
('Un mage éméché'),
('Une fée pas commode');

INSERT INTO "verb" ("name") VALUES
('a mangé une pomme avec');
('a brûlé un cierge pour'),
('a bavé sur'),
('a écrit à la bombe sur'),
('a fait pleurer de rire'),
('a cassé en mille morceaux'),
('a massacré à la cuillère'),
('a béni au syrop de menthe'),
('a maudit'),
('a immolé'),
('a noyé dans les toilettes'),
('a vomi son déjeuner sur'),
('a chié des briques sur'),
('a pissé sur'),
('a grogné'),
('a crié sur'),
('a gerbé son goûter sur'),
('a acheté une culotte pour'),
('a fait cuire un oeuf à'),
('a organisé une soirée disco pour'),
('a ensorcelé en claquant des doigts'),
('a séquestré dans sa cave'),
('a arrêté de respirer pour'),
('a opéré au sécateur'),
('a puni de 3 coups de fouet'),
('a copié tous les devoirs de'),
('a fait boire du jus de chaussettes à'),
('a sniffé de la cendre sur'),
('a fumé du chanvre avec'),
('a argumenté avec'),
('a fait pleurer'),
('a fait rire'),
('a chatouillé'),
('a tripoté en gloussant'),
('a converti au potterisme'),
('a défié en duel'),
('a fait gerbé'),
('a fait vomir'),
('a négocié une trève avec'),
('a fricoté avec'),
('a fait chanter sous la pluie'),
('a examiné de la tête aux pieds'),
('a fait conduire son kart par'),
('a chantonné avec'),
('a chanté sur la table avec'),
('a éclaboussé de moutarde'),
('a sautillé dans les flaques avec'),
('a sauté sur'),
('a interrogé'),
('a interviewé'),
('a craché des flammes sur'),
('a recraché son soda sur'),
('a mugi de désespoir pour'),
('a griffé dans le dos'),
('a dansé une gigue sur'),
('a sauté en parachute avec'),
('a dansé une valse avec'),
('a chanté une sérénade pour'),
('a marmonné avec'),
('a rendu son snack sur'),
('a salivé de désir sur'),
('a frôlé accidentellement'),
('a volé avec'),
('a bondi sur'),
('a bondi de peur avec'),
('a sautillé sur'),
('a feulé sur'),
('a grogné sur'),
('a miaulé sur'),
('a rugi sur'),
('a hurlé avec'),
('a pété sur'),
('a tapé'),
('a photographié'),
('a filmé'),
('a boxé avec'),
('a couché avec'),
('a dormi avec'),
('a dormi sur'),
('a dormi sous'),
('a escaladé'),
('a râlé contre'),
('a râlé sur'),
('a râlé avec'),
('a déferlé sur'),
('a déferlé avec'),
('a parlé avec'),
('a kidnappé'),
('a enlevé'),
('a subtilisé'),
('a fait disparaître'),
('a arraché à sa chaise'),
('a détrôné des toilettes'),
('a intronisé dans le cellier'),
('a adoubé avec un poireau'),
('a soualé avec de la bièraubeurre'),
('a enrubanné de soir'),
('a ligoté avec uen ceinture'),
('a saucissoné comme une rosette'),
('a attaché dans le grenier'),
('a détaché du placard'),
('a libéré de la cave'),
('a banni des WC'),
('a aimé flirter'),
('a détesté flirter'),
('a hué les pouces en bas'),
('a repoussé des deux mains'),
('a fortement influencé'),
('a gémi de désespoir avec'),
('a pleuré de rireavec'),
('a rigolé avec');

INSERT INTO "complement" ("name") VALUES
('mes devoirs de philosophie'),
('mon agenda Totally Spies');
('mon lit avec la couette Ladybug'),
('mon ukulele en papier mâché'),
('un ukulele en paille de bambou'),
('ma flûte en bois de pipo'),
('une flûte enchantée'),
('ma guitare dédicacée par Maïté'),
('une guitare électrique Trempette'),
('mon trombone à coulisse'),
('un trombone belle-mère'),
('une pantoufle en peau de zob'),
('une tongue Adadas'),
('une sandale Matien'),
('mes baskets à Led'),
('les bottes du chat Potté'),
('un oreiller en plumes de zoi'),
('une couette à bretelles argentées'),
('mon plaid préféré Harry Potter'),
('ma réplique de Pikachu'),
('ma mega-pop Deadpool'),
('mon poster Ready Player One'),
('mes Doc Martens'),
('mon pantalon troué à franges'),
('ma corne de licorne à paillettes'),
('mon kilt en tartan à pois'),
('un bachi bouzouk'),
('un moule à gauffres'),
('le Capitaine Haddock'),
('Celui-Dont-On-Ne-Doit-Pas-Dire-Le-Nom'),
('Albus Perceval Wulfric Dumbledore'),
('un Mangemort sous LSD'),
('Tintin et Milou en robes fleuries'),
('la reine en string sur un monocycle'),
('Stéphanie de Monaco'),
('la casa del Rey'),
('un mug à deux anses'),
('un bol breton en céramique'),
('un brancardier sénile'),
('une cueilleuse de myrtilles'),
('un kamikaze en tenue helvète'),
('le comte Dracula'),
('un ver de terre récidiviste'),
('un saucisson domestiqué'),
('un pignouf en short'),
('des jongleuses de truelle'),
('les mignons de Gru'),
('Papuche la licorne'),
('un oliphant rose'),
('un tigre sous extasy'),
('un lion sous cannabis'),
('un singe en jupe de cuir'),
('le boucher Sanzos'),
('la couturière Kipik'),
('les étudiants en tongues'),
('les étudiantes en toge'),
('la mère Michel'),
('le père Lustucru'),
('une souris verte'),
('un escargot bicéphale borgne'),
('un mouton à 5 pattes'),
('un troupeau de chupacabra'),
('un loup-garou végétarien'),
('un lapin-garou tout pelé'),
('un chat-garou siamois'),
('un thérianthrophe steampunk'),
('une vieille cagole'),
('Petit-Pied, le petit dinosaure'),
('un pharaon mal momifié'),
('la princesse au petit-pois'),
('un chevalier télékinésiste'),
('un mec chauve qui parle dans la tête'),
('un type poilu avec des ongles en métal'),
('un gobelin vert qui parle bizarre'),
('un gamin roux qui vit dans un terrier'),
('un dev qui vit dans sa cave'),
('un vieux barbu en robe mauve'),
('un vilan méchant sans nez'),
('un serpent à 2 têtes'),
('un chien à 3 têtes'),
('un oiseau qui crame tout seul parfois'),
('le Professeur Roge et sa page 394'),
('un Détraqueur qui aime les peluches'),
('un troll qui tricote'),
('la Fée Pachié'),
('la Fée Lonie'),
('un chat troglodyte'),
('un cheval à bascule'),
('un chinchilla albinos'),
('un aligator zébré'),
('un serpent à plumes'),
('un cochon qui glougloute'),
('une ballerine unijambiste'),
('un gros plombier en salopette rouge'),
('un grand plombier en salopette verte'),
('un elfe qui asmate des poules'),
('un semi-homme très brave'),
('un nain en bas-résille'),
('un blaireau travailleur'),
('un serpent malicieux'),
('un lion courageux'),
('un corbeau savant'),
('un machin-chose-bidule-truc'),
('le schimlblick'),
('une mini-pop de Noël'),
('un cerbère agoraphobe'),
('la voisine en peignoir et crocks rose'),
('une licorne constipée'),
('un dragon au look émo'),
('le Diable en personne'),
('une potterhead pas très subtile');

INSERT INTO "archive" ("phrase") VALUES
('Un chaton licorne a vomi sur mon agenda Totally Spies');

COMMIT;

/* PETITE REGLE POUR RECUPERER LE DERNIER ID A LA CREATION D'UNE NOUVELLE ENTREE VIA UNE INTERFACE */
/* PAS SURE DE L'UTILISER ICI MAIS ON SAIT JAMAIS */

BEGIN;

PostGres avec le type serial n'incrémente pas automatiquement de façon implicite la séquence rattaché à la colonne !
Il faut donc mettre à jour la valeur courante de chacune des séquences en séléctionnant l'id maximum de chaque table

SELECT setval('subject_id_seq', (SELECT MAX(id) from "subject"));
SELECT setval('verb_id_seq', (SELECT MAX(id) from "verb"));
SELECT setval('complement_id_seq', (SELECT MAX(id) from "complement"));
SELECT setval('archive_id_seq', (SELECT MAX(id) from "archive"));

COMMIT;